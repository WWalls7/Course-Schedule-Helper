{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipStrategyBase = void 0;\n\nvar _button = require(\"../../button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _function_template = require(\"../../../core/templates/function_template\");\n\nvar _renderer = require(\"../../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _uiList = require(\"../../list/ui.list.edit\");\n\nvar _uiList2 = _interopRequireDefault(_uiList);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\n\nvar TooltipStrategyBase = exports.TooltipStrategyBase = function () {\n  function TooltipStrategyBase(options) {\n    _classCallCheck(this, TooltipStrategyBase);\n\n    this._tooltip = null;\n    this._options = options;\n    this._extraOptions = null;\n  }\n\n  _createClass(TooltipStrategyBase, [{\n    key: \"show\",\n    value: function (target, dataList, extraOptions) {\n      if (this._canShowTooltip(dataList)) {\n        this.hide();\n        this._extraOptions = extraOptions;\n\n        this._showCore(target, dataList);\n      }\n    }\n  }, {\n    key: \"_showCore\",\n    value: function (target, dataList) {\n      if (!this._tooltip) {\n        this._tooltip = this._createTooltip(target, dataList);\n      } else {\n        this._shouldUseTarget() && this._tooltip.option(\"target\", target);\n\n        this._list.option(\"dataSource\", dataList);\n      }\n\n      this._tooltip.option(\"visible\", true);\n    }\n  }, {\n    key: \"_getContentTemplate\",\n    value: function (dataList) {\n      var _this = this;\n\n      return function (container) {\n        var listElement = (0, _renderer2.default)(\"<div>\");\n        (0, _renderer2.default)(container).append(listElement);\n        _this._list = _this._createList(listElement, dataList);\n      };\n    }\n  }, {\n    key: \"isAlreadyShown\",\n    value: function (target) {\n      if (this._tooltip && this._tooltip.option(\"visible\")) {\n        return this._tooltip.option(\"target\")[0] === target[0];\n      }\n    }\n  }, {\n    key: \"_onShown\",\n    value: function () {\n      this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled);\n    }\n  }, {\n    key: \"dispose\",\n    value: function () {}\n  }, {\n    key: \"hide\",\n    value: function () {\n      if (this._tooltip) {\n        this._tooltip.option(\"visible\", false);\n      }\n    }\n  }, {\n    key: \"_shouldUseTarget\",\n    value: function () {\n      return true;\n    }\n  }, {\n    key: \"_createTooltip\",\n    value: function () {}\n  }, {\n    key: \"_canShowTooltip\",\n    value: function (dataList) {\n      if (!dataList.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createListOption\",\n    value: function (dataList) {\n      var _this2 = this;\n\n      return {\n        dataSource: dataList,\n        onContentReady: this._onListRender.bind(this),\n        onItemClick: function (e) {\n          return _this2._onListItemClick(e);\n        },\n        itemTemplate: function (item, index) {\n          var currentData = item.settings && item.settings.targetedAppointmentData || item.currentData || item.data;\n          return _this2._renderTemplate(item.data, currentData, index, item.color);\n        }\n      };\n    }\n  }, {\n    key: \"_onListRender\",\n    value: function () {}\n  }, {\n    key: \"_createTooltipElement\",\n    value: function (wrapperClass) {\n      return (0, _renderer2.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass);\n    }\n  }, {\n    key: \"_createList\",\n    value: function (listElement, dataList) {\n      return this._options.createComponent(listElement, _uiList2.default, this._createListOption(dataList));\n    }\n  }, {\n    key: \"_renderTemplate\",\n    value: function (data, currentData, index, color) {\n      var itemListContent = this._createItemListContent(data, currentData, color);\n\n      this._options.setDefaultTemplate(this._getItemListTemplateName(), new _function_template.FunctionTemplate(function (options) {\n        var $container = (0, _renderer2.default)(options.container);\n        $container.append(itemListContent);\n        return $container;\n      }));\n\n      var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\n\n      return this._createFunctionTemplate(template, data, currentData, index);\n    }\n  }, {\n    key: \"_createFunctionTemplate\",\n    value: function (template, data, targetData, index) {\n      var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\n\n      return new _function_template.FunctionTemplate(function (options) {\n        return template.render({\n          model: isEmptyDropDownAppointmentTemplate ? {\n            appointmentData: data,\n            targetedAppointmentData: targetData\n          } : data,\n          container: options.container,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"_getItemListTemplateName\",\n    value: function () {\n      return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\";\n    }\n  }, {\n    key: \"_isEmptyDropDownAppointmentTemplate\",\n    value: function () {\n      return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate;\n    }\n  }, {\n    key: \"_onListItemClick\",\n    value: function (e) {\n      this.hide();\n\n      if (this._extraOptions.clickEvent) {\n        this._extraOptions.clickEvent(e);\n      }\n\n      this._options.showAppointmentPopup(e.itemData.data, false, e.itemData.currentData);\n    }\n  }, {\n    key: \"_createItemListContent\",\n    value: function (data, currentData, color) {\n      var editing = this._extraOptions.editing;\n      var $itemElement = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\n      $itemElement.append(this._createItemListMarker(color));\n      $itemElement.append(this._createItemListInfo(this._options.getTextAndFormatDate(data, currentData)));\n\n      if (!data.disabled && (editing && true === editing.allowDeleting || true === editing)) {\n        var singleAppointmentData = this._options.getSingleAppointmentData(data, this._tooltip.option(\"target\"));\n\n        $itemElement.append(this._createDeleteButton(data, singleAppointmentData));\n      }\n\n      return $itemElement;\n    }\n  }, {\n    key: \"_createItemListMarker\",\n    value: function (color) {\n      var $marker = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\n      var $markerBody = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\n      $marker.append($markerBody);\n      color && color.done(function (value) {\n        return $markerBody.css(\"background\", value);\n      });\n      return $marker;\n    }\n  }, {\n    key: \"_createItemListInfo\",\n    value: function (object) {\n      var result = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\n      var $title = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\n      var $date = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\n      return result.append($title).append($date);\n    }\n  }, {\n    key: \"_createDeleteButton\",\n    value: function (data, currentData) {\n      var _this3 = this;\n\n      var $container = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\n      var $deleteButton = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\n      $container.append($deleteButton);\n\n      this._options.createComponent($deleteButton, _button2.default, {\n        icon: \"trash\",\n        stylingMode: \"text\",\n        onClick: function (e) {\n          _this3.hide();\n\n          e.event.stopPropagation();\n\n          _this3._options.checkAndDeleteAppointment(data, currentData);\n        }\n      });\n\n      return $container;\n    }\n  }]);\n\n  return TooltipStrategyBase;\n}();","map":{"version":3,"sources":["C:/Users/Swizzle/Desktop/SE Project/Application/csh/node_modules/devextreme/ui/scheduler/tooltip_strategies/tooltipStrategyBase.js"],"names":["Object","defineProperty","exports","value","TooltipStrategyBase","_button","require","_button2","_interopRequireDefault","_function_template","_renderer","_renderer2","_uiList","_uiList2","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","TOOLTIP_APPOINTMENT_ITEM","TOOLTIP_APPOINTMENT_ITEM_CONTENT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE","TOOLTIP_APPOINTMENT_ITEM_MARKER","TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON","options","_tooltip","_options","_extraOptions","dataList","extraOptions","_canShowTooltip","hide","_showCore","_createTooltip","_shouldUseTarget","option","_list","_this","container","listElement","default","append","_createList","focusStateEnabled","_this2","dataSource","onContentReady","_onListRender","bind","onItemClick","e","_onListItemClick","itemTemplate","item","index","currentData","settings","targetedAppointmentData","data","_renderTemplate","color","wrapperClass","appendTo","addClass","createComponent","_createListOption","itemListContent","_createItemListContent","setDefaultTemplate","_getItemListTemplateName","FunctionTemplate","$container","template","getAppointmentTemplate","_createFunctionTemplate","targetData","isEmptyDropDownAppointmentTemplate","_isEmptyDropDownAppointmentTemplate","render","model","appointmentData","dropDownAppointmentTemplate","clickEvent","showAppointmentPopup","itemData","editing","$itemElement","_createItemListMarker","_createItemListInfo","getTextAndFormatDate","disabled","allowDeleting","singleAppointmentData","getSingleAppointmentData","_createDeleteButton","$marker","$markerBody","done","css","object","result","$title","text","$date","formatDate","_this3","$deleteButton","icon","stylingMode","onClick","event","stopPropagation","checkAndDeleteAppointment"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.TooltipStrategyBase = void 0;\r\nvar _button = require(\"../../button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _function_template = require(\"../../../core/templates/function_template\");\r\nvar _renderer = require(\"../../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _uiList = require(\"../../list/ui.list.edit\");\r\nvar _uiList2 = _interopRequireDefault(_uiList);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\r\nvar TooltipStrategyBase = exports.TooltipStrategyBase = function() {\r\n    function TooltipStrategyBase(options) {\r\n        _classCallCheck(this, TooltipStrategyBase);\r\n        this._tooltip = null;\r\n        this._options = options;\r\n        this._extraOptions = null\r\n    }\r\n    _createClass(TooltipStrategyBase, [{\r\n        key: \"show\",\r\n        value: function(target, dataList, extraOptions) {\r\n            if (this._canShowTooltip(dataList)) {\r\n                this.hide();\r\n                this._extraOptions = extraOptions;\r\n                this._showCore(target, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showCore\",\r\n        value: function(target, dataList) {\r\n            if (!this._tooltip) {\r\n                this._tooltip = this._createTooltip(target, dataList)\r\n            } else {\r\n                this._shouldUseTarget() && this._tooltip.option(\"target\", target);\r\n                this._list.option(\"dataSource\", dataList)\r\n            }\r\n            this._tooltip.option(\"visible\", true)\r\n        }\r\n    }, {\r\n        key: \"_getContentTemplate\",\r\n        value: function(dataList) {\r\n            var _this = this;\r\n            return function(container) {\r\n                var listElement = (0, _renderer2.default)(\"<div>\");\r\n                (0, _renderer2.default)(container).append(listElement);\r\n                _this._list = _this._createList(listElement, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"isAlreadyShown\",\r\n        value: function(target) {\r\n            if (this._tooltip && this._tooltip.option(\"visible\")) {\r\n                return this._tooltip.option(\"target\")[0] === target[0]\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onShown\",\r\n        value: function() {\r\n            this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled)\r\n        }\r\n    }, {\r\n        key: \"dispose\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"hide\",\r\n        value: function() {\r\n            if (this._tooltip) {\r\n                this._tooltip.option(\"visible\", false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_shouldUseTarget\",\r\n        value: function() {\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createTooltip\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_canShowTooltip\",\r\n        value: function(dataList) {\r\n            if (!dataList.length) {\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createListOption\",\r\n        value: function(dataList) {\r\n            var _this2 = this;\r\n            return {\r\n                dataSource: dataList,\r\n                onContentReady: this._onListRender.bind(this),\r\n                onItemClick: function(e) {\r\n                    return _this2._onListItemClick(e)\r\n                },\r\n                itemTemplate: function(item, index) {\r\n                    var currentData = item.settings && item.settings.targetedAppointmentData || item.currentData || item.data;\r\n                    return _this2._renderTemplate(item.data, currentData, index, item.color)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onListRender\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_createTooltipElement\",\r\n        value: function(wrapperClass) {\r\n            return (0, _renderer2.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass)\r\n        }\r\n    }, {\r\n        key: \"_createList\",\r\n        value: function(listElement, dataList) {\r\n            return this._options.createComponent(listElement, _uiList2.default, this._createListOption(dataList))\r\n        }\r\n    }, {\r\n        key: \"_renderTemplate\",\r\n        value: function(data, currentData, index, color) {\r\n            var itemListContent = this._createItemListContent(data, currentData, color);\r\n            this._options.setDefaultTemplate(this._getItemListTemplateName(), new _function_template.FunctionTemplate(function(options) {\r\n                var $container = (0, _renderer2.default)(options.container);\r\n                $container.append(itemListContent);\r\n                return $container\r\n            }));\r\n            var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\r\n            return this._createFunctionTemplate(template, data, currentData, index)\r\n        }\r\n    }, {\r\n        key: \"_createFunctionTemplate\",\r\n        value: function(template, data, targetData, index) {\r\n            var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\r\n            return new _function_template.FunctionTemplate(function(options) {\r\n                return template.render({\r\n                    model: isEmptyDropDownAppointmentTemplate ? {\r\n                        appointmentData: data,\r\n                        targetedAppointmentData: targetData\r\n                    } : data,\r\n                    container: options.container,\r\n                    index: index\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getItemListTemplateName\",\r\n        value: function() {\r\n            return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\"\r\n        }\r\n    }, {\r\n        key: \"_isEmptyDropDownAppointmentTemplate\",\r\n        value: function() {\r\n            return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate\r\n        }\r\n    }, {\r\n        key: \"_onListItemClick\",\r\n        value: function(e) {\r\n            this.hide();\r\n            if (this._extraOptions.clickEvent) {\r\n                this._extraOptions.clickEvent(e)\r\n            }\r\n            this._options.showAppointmentPopup(e.itemData.data, false, e.itemData.currentData)\r\n        }\r\n    }, {\r\n        key: \"_createItemListContent\",\r\n        value: function(data, currentData, color) {\r\n            var editing = this._extraOptions.editing;\r\n            var $itemElement = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\r\n            $itemElement.append(this._createItemListMarker(color));\r\n            $itemElement.append(this._createItemListInfo(this._options.getTextAndFormatDate(data, currentData)));\r\n            if (!data.disabled && (editing && true === editing.allowDeleting || true === editing)) {\r\n                var singleAppointmentData = this._options.getSingleAppointmentData(data, this._tooltip.option(\"target\"));\r\n                $itemElement.append(this._createDeleteButton(data, singleAppointmentData))\r\n            }\r\n            return $itemElement\r\n        }\r\n    }, {\r\n        key: \"_createItemListMarker\",\r\n        value: function(color) {\r\n            var $marker = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\r\n            var $markerBody = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\r\n            $marker.append($markerBody);\r\n            color && color.done(function(value) {\r\n                return $markerBody.css(\"background\", value)\r\n            });\r\n            return $marker\r\n        }\r\n    }, {\r\n        key: \"_createItemListInfo\",\r\n        value: function(object) {\r\n            var result = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\r\n            var $title = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\r\n            var $date = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\r\n            return result.append($title).append($date)\r\n        }\r\n    }, {\r\n        key: \"_createDeleteButton\",\r\n        value: function(data, currentData) {\r\n            var _this3 = this;\r\n            var $container = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\r\n            var $deleteButton = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\r\n            $container.append($deleteButton);\r\n            this._options.createComponent($deleteButton, _button2.default, {\r\n                icon: \"trash\",\r\n                stylingMode: \"text\",\r\n                onClick: function(e) {\r\n                    _this3.hide();\r\n                    e.event.stopPropagation();\r\n                    _this3._options.checkAndDeleteAppointment(data, currentData)\r\n                }\r\n            });\r\n            return $container\r\n        }\r\n    }]);\r\n    return TooltipStrategyBase\r\n}();\r\n"]},"metadata":{},"sourceType":"script"}