{"ast":null,"code":"/**\r\n * DevExtreme (ui/switch.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar eventsEngine = require(\"../events/core/events_engine\");\n\nvar devices = require(\"../core/devices\");\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar inkRipple = require(\"./widget/utils.ink_ripple\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar Editor = require(\"./editor/editor\");\n\nvar eventUtils = require(\"../events/utils\");\n\nvar feedbackEvents = require(\"../events/core/emitter.feedback\");\n\nvar themes = require(\"./themes\");\n\nvar fx = require(\"../animation/fx\");\n\nvar messageLocalization = require(\"../localization/message\");\n\nvar clickEvent = require(\"../events/click\");\n\nvar Swipeable = require(\"../events/gesture/swipeable\");\n\nvar Deferred = require(\"../core/utils/deferred\").Deferred;\n\nvar SWITCH_CLASS = \"dx-switch\";\nvar SWITCH_WRAPPER_CLASS = SWITCH_CLASS + \"-wrapper\";\nvar SWITCH_CONTAINER_CLASS = SWITCH_CLASS + \"-container\";\nvar SWITCH_INNER_CLASS = SWITCH_CLASS + \"-inner\";\nvar SWITCH_HANDLE_CLASS = SWITCH_CLASS + \"-handle\";\nvar SWITCH_ON_VALUE_CLASS = SWITCH_CLASS + \"-on-value\";\nvar SWITCH_ON_CLASS = SWITCH_CLASS + \"-on\";\nvar SWITCH_OFF_CLASS = SWITCH_CLASS + \"-off\";\nvar SWITCH_ANIMATION_DURATION = 100;\nvar Switch = Editor.inherit({\n  _supportedKeys: function () {\n    var isRTL = this.option(\"rtlEnabled\");\n\n    var click = function (e) {\n      e.preventDefault();\n\n      this._clickAction({\n        event: e\n      });\n    };\n\n    var move = function (value, e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      this._animateValue(value);\n    };\n\n    return extend(this.callBase(), {\n      space: click,\n      enter: click,\n      leftArrow: move.bind(this, isRTL ? true : false),\n      rightArrow: move.bind(this, isRTL ? false : true)\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      activeStateEnabled: true,\n      switchedOnText: this._getLocalizationMessage(\"On\"),\n      switchedOffText: this._getLocalizationMessage(\"Off\"),\n      value: false,\n      useInkRipple: false,\n      _animateHandle: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = themes.current();\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function (_device) {\n        return themes.isIos7(themeName);\n      },\n      options: {\n        _animateHandle: false\n      }\n    }]);\n  },\n  _setDeprecatedOptions: function () {\n    this.callBase();\n    extend(this._deprecatedOptions, {\n      onText: {\n        since: \"18.2\",\n        alias: \"switchedOnText\"\n      },\n      offText: {\n        since: \"18.2\",\n        alias: \"switchedOffText\"\n      }\n    });\n  },\n  _getLocalizationMessage: function (state) {\n    var newMessage = messageLocalization.format(\"dxSwitch-switched\" + state + \"Text\");\n    var oldMessage = messageLocalization.format(\"dxSwitch-\" + state.toLowerCase() + \"Text\");\n    return newMessage || oldMessage;\n  },\n  _feedbackHideTimeout: 0,\n  _animating: false,\n  _initMarkup: function () {\n    this._renderContainers();\n\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n    this.$element().addClass(SWITCH_CLASS).append(this._$switchWrapper);\n\n    this._renderSubmitElement();\n\n    this._renderClick();\n\n    this.setAria(\"role\", \"button\");\n\n    this._renderSwipeable();\n\n    this.callBase();\n\n    this._renderSwitchInner();\n\n    this._renderLabels();\n\n    this._renderValue();\n  },\n  _getInnerOffset: function (value, offset) {\n    var ratio = (offset - this._offsetDirection() * Number(!value)) / 2;\n    return 100 * ratio + \"%\";\n  },\n  _getHandleOffset: function (value, offset) {\n    if (this.option(\"rtlEnabled\")) {\n      value = !value;\n    }\n\n    if (value) {\n      var calcValue = -100 + 100 * -offset;\n      return calcValue + \"%\";\n    } else {\n      return 100 * -offset + \"%\";\n    }\n  },\n  _renderSwitchInner: function () {\n    this._$switchInner = $(\"<div>\").addClass(SWITCH_INNER_CLASS).appendTo(this._$switchContainer);\n    this._$handle = $(\"<div>\").addClass(SWITCH_HANDLE_CLASS).appendTo(this._$switchInner);\n  },\n  _renderLabels: function () {\n    this._$labelOn = $(\"<div>\").addClass(SWITCH_ON_CLASS).prependTo(this._$switchInner);\n    this._$labelOff = $(\"<div>\").addClass(SWITCH_OFF_CLASS).appendTo(this._$switchInner);\n\n    this._setLabelsText();\n  },\n  _renderContainers: function () {\n    this._$switchContainer = $(\"<div>\").addClass(SWITCH_CONTAINER_CLASS);\n    this._$switchWrapper = $(\"<div>\").addClass(SWITCH_WRAPPER_CLASS).append(this._$switchContainer);\n  },\n  _renderSwipeable: function () {\n    this._createComponent(this.$element(), Swipeable, {\n      elastic: false,\n      immediate: true,\n      onStart: this._swipeStartHandler.bind(this),\n      onUpdated: this._swipeUpdateHandler.bind(this),\n      onEnd: this._swipeEndHandler.bind(this),\n      itemSizeFunc: this._getItemSizeFunc.bind(this)\n    });\n  },\n  _getItemSizeFunc: function () {\n    return this._$switchContainer.outerWidth(true) - this._$handle.get(0).getBoundingClientRect().width;\n  },\n  _renderSubmitElement: function () {\n    this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\n  },\n  _getSubmitElement: function () {\n    return this._$submitElement;\n  },\n  _renderInkRipple: function () {\n    this._inkRipple = inkRipple.render({\n      waveSizeCoefficient: 1.7,\n      isCentered: true,\n      useHoldAnimation: false,\n      wavesNumber: 2\n    });\n  },\n  _renderInkWave: function (element, dxEvent, doRender, waveIndex) {\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: element,\n      event: dxEvent,\n      wave: waveIndex\n    };\n\n    if (doRender) {\n      this._inkRipple.showWave(config);\n    } else {\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _updateFocusState: function (e, value) {\n    this.callBase.apply(this, arguments);\n\n    this._renderInkWave(this._$handle, e, value, 0);\n  },\n  _toggleActiveState: function ($element, value, e) {\n    this.callBase.apply(this, arguments);\n\n    this._renderInkWave(this._$handle, e, value, 1);\n  },\n  _offsetDirection: function () {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _renderPosition: function (state, swipeOffset) {\n    var innerOffset = this._getInnerOffset(state, swipeOffset);\n\n    var handleOffset = this._getHandleOffset(state, swipeOffset);\n\n    if (this.option(\"_animateHandle\")) {\n      this._$switchInner.css(\"transform\", \" translateX(\" + innerOffset + \")\");\n\n      this._$handle.css(\"transform\", \" translateX(\" + handleOffset + \")\");\n    }\n  },\n  _validateValue: function () {\n    var check = this.option(\"value\");\n\n    if (\"boolean\" !== typeof check) {\n      this._options.value = !!check;\n    }\n  },\n  _renderClick: function () {\n    var eventName = eventUtils.addNamespace(clickEvent.name, this.NAME);\n    var $element = this.$element();\n    this._clickAction = this._createAction(this._clickHandler.bind(this));\n    eventsEngine.off($element, eventName);\n    eventsEngine.on($element, eventName, function (e) {\n      this._clickAction({\n        event: e\n      });\n    }.bind(this));\n  },\n  _clickHandler: function (args) {\n    var e = args.event;\n\n    this._saveValueChangeEvent(e);\n\n    if (this._animating || this._swiping) {\n      return;\n    }\n\n    this._animateValue(!this.option(\"value\"));\n  },\n  _animateValue: function (value) {\n    var startValue = this.option(\"value\");\n    var endValue = value;\n\n    if (startValue === endValue) {\n      return;\n    }\n\n    this._animating = true;\n\n    var fromInnerOffset = this._getInnerOffset(startValue, 0);\n\n    var toInnerOffset = this._getInnerOffset(endValue, 0);\n\n    var fromHandleOffset = this._getHandleOffset(startValue, 0);\n\n    var toHandleOffset = this._getHandleOffset(endValue, 0);\n\n    var that = this;\n    var fromInnerConfig = {};\n    var toInnerConfig = {};\n    var fromHandleConfig = {};\n    var toHandlerConfig = {};\n    fromInnerConfig.transform = \" translateX(\" + fromInnerOffset + \")\";\n    toInnerConfig.transform = \" translateX(\" + toInnerOffset + \")\";\n    fromHandleConfig.transform = \" translateX(\" + fromHandleOffset + \")\";\n    toHandlerConfig.transform = \" translateX(\" + toHandleOffset + \")\";\n    this.$element().toggleClass(SWITCH_ON_VALUE_CLASS, endValue);\n    fx.animate(this._$handle, {\n      from: fromHandleConfig,\n      to: toHandlerConfig,\n      duration: SWITCH_ANIMATION_DURATION\n    });\n    fx.animate(this._$switchInner, {\n      from: fromInnerConfig,\n      to: toInnerConfig,\n      duration: SWITCH_ANIMATION_DURATION,\n      complete: function () {\n        that._animating = false;\n        that.option(\"value\", endValue);\n      }\n    });\n  },\n  _swipeStartHandler: function (e) {\n    var state = this.option(\"value\");\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    var maxOffOffset = rtlEnabled ? 0 : 1;\n    var maxOnOffset = rtlEnabled ? 1 : 0;\n    e.event.maxLeftOffset = state ? maxOffOffset : maxOnOffset;\n    e.event.maxRightOffset = state ? maxOnOffset : maxOffOffset;\n    this._swiping = true;\n    this._feedbackDeferred = new Deferred();\n    feedbackEvents.lock(this._feedbackDeferred);\n\n    this._toggleActiveState(this.$element(), this.option(\"activeStateEnabled\"));\n  },\n  _swipeUpdateHandler: function (e) {\n    this._renderPosition(this.option(\"value\"), e.event.offset);\n  },\n  _swipeEndHandler: function (e) {\n    var that = this;\n\n    var offsetDirection = this._offsetDirection();\n\n    var toInnerConfig = {};\n    var toHandleConfig = {};\n\n    var innerOffset = this._getInnerOffset(that.option(\"value\"), e.event.targetOffset);\n\n    var handleOffset = this._getHandleOffset(that.option(\"value\"), e.event.targetOffset);\n\n    toInnerConfig.transform = \" translateX(\" + innerOffset + \")\";\n    toHandleConfig.transform = \" translateX(\" + handleOffset + \")\";\n    fx.animate(this._$handle, {\n      to: toHandleConfig,\n      duration: SWITCH_ANIMATION_DURATION\n    });\n    fx.animate(this._$switchInner, {\n      to: toInnerConfig,\n      duration: SWITCH_ANIMATION_DURATION,\n      complete: function () {\n        that._swiping = false;\n        var pos = that.option(\"value\") + offsetDirection * e.event.targetOffset;\n        that.option(\"value\", Boolean(pos));\n\n        that._feedbackDeferred.resolve();\n\n        that._toggleActiveState(that.$element(), false);\n      }\n    });\n  },\n  _renderValue: function () {\n    this._validateValue();\n\n    var val = this.option(\"value\");\n\n    this._renderPosition(val, 0);\n\n    this.$element().toggleClass(SWITCH_ON_VALUE_CLASS, val);\n\n    this._getSubmitElement().val(val);\n\n    this.setAria({\n      pressed: val,\n      label: val ? this.option(\"switchedOnText\") : this.option(\"switchedOffText\")\n    });\n  },\n  _setLabelsText: function () {\n    this._$labelOn && this._$labelOn.text(this.option(\"switchedOnText\"));\n    this._$labelOff && this._$labelOff.text(this.option(\"switchedOffText\"));\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this.repaint();\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      case \"width\":\n        delete this._marginBound;\n\n        this._refresh();\n\n        break;\n\n      case \"switchedOnText\":\n      case \"switchedOffText\":\n        this._setLabelsText();\n\n        break;\n\n      case \"value\":\n        this._renderValue();\n\n        this.callBase(args);\n        break;\n\n      case \"_animateHandle\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _clean: function () {\n    delete this._inkRipple;\n    this.callBase();\n  }\n});\nregisterComponent(\"dxSwitch\", Switch);\nmodule.exports = Switch;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/Swizzle/Desktop/SE Project/Application/csh/node_modules/devextreme/ui/switch.js"],"names":["$","require","eventsEngine","devices","extend","inkRipple","registerComponent","Editor","eventUtils","feedbackEvents","themes","fx","messageLocalization","clickEvent","Swipeable","Deferred","SWITCH_CLASS","SWITCH_WRAPPER_CLASS","SWITCH_CONTAINER_CLASS","SWITCH_INNER_CLASS","SWITCH_HANDLE_CLASS","SWITCH_ON_VALUE_CLASS","SWITCH_ON_CLASS","SWITCH_OFF_CLASS","SWITCH_ANIMATION_DURATION","Switch","inherit","_supportedKeys","isRTL","option","click","e","preventDefault","_clickAction","event","move","value","stopPropagation","_animateValue","callBase","space","enter","leftArrow","bind","rightArrow","_getDefaultOptions","hoverStateEnabled","activeStateEnabled","switchedOnText","_getLocalizationMessage","switchedOffText","useInkRipple","_animateHandle","_defaultOptionsRules","themeName","current","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_device","isIos7","_setDeprecatedOptions","_deprecatedOptions","onText","since","alias","offText","state","newMessage","format","oldMessage","toLowerCase","_feedbackHideTimeout","_animating","_initMarkup","_renderContainers","_renderInkRipple","$element","addClass","append","_$switchWrapper","_renderSubmitElement","_renderClick","setAria","_renderSwipeable","_renderSwitchInner","_renderLabels","_renderValue","_getInnerOffset","offset","ratio","_offsetDirection","Number","_getHandleOffset","calcValue","_$switchInner","appendTo","_$switchContainer","_$handle","_$labelOn","prependTo","_$labelOff","_setLabelsText","_createComponent","elastic","immediate","onStart","_swipeStartHandler","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","itemSizeFunc","_getItemSizeFunc","outerWidth","get","getBoundingClientRect","width","_$submitElement","attr","_getSubmitElement","_inkRipple","render","waveSizeCoefficient","isCentered","useHoldAnimation","wavesNumber","_renderInkWave","element","dxEvent","doRender","waveIndex","config","wave","showWave","hideWave","_updateFocusState","apply","arguments","_toggleActiveState","_renderPosition","swipeOffset","innerOffset","handleOffset","css","_validateValue","check","_options","eventName","addNamespace","name","NAME","_createAction","_clickHandler","off","on","args","_saveValueChangeEvent","_swiping","startValue","endValue","fromInnerOffset","toInnerOffset","fromHandleOffset","toHandleOffset","that","fromInnerConfig","toInnerConfig","fromHandleConfig","toHandlerConfig","transform","toggleClass","animate","from","to","duration","complete","rtlEnabled","maxOffOffset","maxOnOffset","maxLeftOffset","maxRightOffset","_feedbackDeferred","lock","offsetDirection","toHandleConfig","targetOffset","pos","Boolean","resolve","val","pressed","label","text","_visibilityChanged","visible","repaint","_optionChanged","_invalidate","_marginBound","_refresh","_clean","module","exports","default"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/switch.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar eventsEngine = require(\"../events/core/events_engine\");\r\nvar devices = require(\"../core/devices\");\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar inkRipple = require(\"./widget/utils.ink_ripple\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar Editor = require(\"./editor/editor\");\r\nvar eventUtils = require(\"../events/utils\");\r\nvar feedbackEvents = require(\"../events/core/emitter.feedback\");\r\nvar themes = require(\"./themes\");\r\nvar fx = require(\"../animation/fx\");\r\nvar messageLocalization = require(\"../localization/message\");\r\nvar clickEvent = require(\"../events/click\");\r\nvar Swipeable = require(\"../events/gesture/swipeable\");\r\nvar Deferred = require(\"../core/utils/deferred\").Deferred;\r\nvar SWITCH_CLASS = \"dx-switch\";\r\nvar SWITCH_WRAPPER_CLASS = SWITCH_CLASS + \"-wrapper\";\r\nvar SWITCH_CONTAINER_CLASS = SWITCH_CLASS + \"-container\";\r\nvar SWITCH_INNER_CLASS = SWITCH_CLASS + \"-inner\";\r\nvar SWITCH_HANDLE_CLASS = SWITCH_CLASS + \"-handle\";\r\nvar SWITCH_ON_VALUE_CLASS = SWITCH_CLASS + \"-on-value\";\r\nvar SWITCH_ON_CLASS = SWITCH_CLASS + \"-on\";\r\nvar SWITCH_OFF_CLASS = SWITCH_CLASS + \"-off\";\r\nvar SWITCH_ANIMATION_DURATION = 100;\r\nvar Switch = Editor.inherit({\r\n    _supportedKeys: function() {\r\n        var isRTL = this.option(\"rtlEnabled\");\r\n        var click = function(e) {\r\n            e.preventDefault();\r\n            this._clickAction({\r\n                event: e\r\n            })\r\n        };\r\n        var move = function(value, e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this._animateValue(value)\r\n        };\r\n        return extend(this.callBase(), {\r\n            space: click,\r\n            enter: click,\r\n            leftArrow: move.bind(this, isRTL ? true : false),\r\n            rightArrow: move.bind(this, isRTL ? false : true)\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            activeStateEnabled: true,\r\n            switchedOnText: this._getLocalizationMessage(\"On\"),\r\n            switchedOffText: this._getLocalizationMessage(\"Off\"),\r\n            value: false,\r\n            useInkRipple: false,\r\n            _animateHandle: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = themes.current();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return themes.isIos7(themeName)\r\n            },\r\n            options: {\r\n                _animateHandle: false\r\n            }\r\n        }])\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        extend(this._deprecatedOptions, {\r\n            onText: {\r\n                since: \"18.2\",\r\n                alias: \"switchedOnText\"\r\n            },\r\n            offText: {\r\n                since: \"18.2\",\r\n                alias: \"switchedOffText\"\r\n            }\r\n        })\r\n    },\r\n    _getLocalizationMessage: function(state) {\r\n        var newMessage = messageLocalization.format(\"dxSwitch-switched\" + state + \"Text\");\r\n        var oldMessage = messageLocalization.format(\"dxSwitch-\" + state.toLowerCase() + \"Text\");\r\n        return newMessage || oldMessage\r\n    },\r\n    _feedbackHideTimeout: 0,\r\n    _animating: false,\r\n    _initMarkup: function() {\r\n        this._renderContainers();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.$element().addClass(SWITCH_CLASS).append(this._$switchWrapper);\r\n        this._renderSubmitElement();\r\n        this._renderClick();\r\n        this.setAria(\"role\", \"button\");\r\n        this._renderSwipeable();\r\n        this.callBase();\r\n        this._renderSwitchInner();\r\n        this._renderLabels();\r\n        this._renderValue()\r\n    },\r\n    _getInnerOffset: function(value, offset) {\r\n        var ratio = (offset - this._offsetDirection() * Number(!value)) / 2;\r\n        return 100 * ratio + \"%\"\r\n    },\r\n    _getHandleOffset: function(value, offset) {\r\n        if (this.option(\"rtlEnabled\")) {\r\n            value = !value\r\n        }\r\n        if (value) {\r\n            var calcValue = -100 + 100 * -offset;\r\n            return calcValue + \"%\"\r\n        } else {\r\n            return 100 * -offset + \"%\"\r\n        }\r\n    },\r\n    _renderSwitchInner: function() {\r\n        this._$switchInner = $(\"<div>\").addClass(SWITCH_INNER_CLASS).appendTo(this._$switchContainer);\r\n        this._$handle = $(\"<div>\").addClass(SWITCH_HANDLE_CLASS).appendTo(this._$switchInner)\r\n    },\r\n    _renderLabels: function() {\r\n        this._$labelOn = $(\"<div>\").addClass(SWITCH_ON_CLASS).prependTo(this._$switchInner);\r\n        this._$labelOff = $(\"<div>\").addClass(SWITCH_OFF_CLASS).appendTo(this._$switchInner);\r\n        this._setLabelsText()\r\n    },\r\n    _renderContainers: function() {\r\n        this._$switchContainer = $(\"<div>\").addClass(SWITCH_CONTAINER_CLASS);\r\n        this._$switchWrapper = $(\"<div>\").addClass(SWITCH_WRAPPER_CLASS).append(this._$switchContainer)\r\n    },\r\n    _renderSwipeable: function() {\r\n        this._createComponent(this.$element(), Swipeable, {\r\n            elastic: false,\r\n            immediate: true,\r\n            onStart: this._swipeStartHandler.bind(this),\r\n            onUpdated: this._swipeUpdateHandler.bind(this),\r\n            onEnd: this._swipeEndHandler.bind(this),\r\n            itemSizeFunc: this._getItemSizeFunc.bind(this)\r\n        })\r\n    },\r\n    _getItemSizeFunc: function() {\r\n        return this._$switchContainer.outerWidth(true) - this._$handle.get(0).getBoundingClientRect().width\r\n    },\r\n    _renderSubmitElement: function() {\r\n        this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element())\r\n    },\r\n    _getSubmitElement: function() {\r\n        return this._$submitElement\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = inkRipple.render({\r\n            waveSizeCoefficient: 1.7,\r\n            isCentered: true,\r\n            useHoldAnimation: false,\r\n            wavesNumber: 2\r\n        })\r\n    },\r\n    _renderInkWave: function(element, dxEvent, doRender, waveIndex) {\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: element,\r\n            event: dxEvent,\r\n            wave: waveIndex\r\n        };\r\n        if (doRender) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _updateFocusState: function(e, value) {\r\n        this.callBase.apply(this, arguments);\r\n        this._renderInkWave(this._$handle, e, value, 0)\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        this._renderInkWave(this._$handle, e, value, 1)\r\n    },\r\n    _offsetDirection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _renderPosition: function(state, swipeOffset) {\r\n        var innerOffset = this._getInnerOffset(state, swipeOffset);\r\n        var handleOffset = this._getHandleOffset(state, swipeOffset);\r\n        if (this.option(\"_animateHandle\")) {\r\n            this._$switchInner.css(\"transform\", \" translateX(\" + innerOffset + \")\");\r\n            this._$handle.css(\"transform\", \" translateX(\" + handleOffset + \")\")\r\n        }\r\n    },\r\n    _validateValue: function() {\r\n        var check = this.option(\"value\");\r\n        if (\"boolean\" !== typeof check) {\r\n            this._options.value = !!check\r\n        }\r\n    },\r\n    _renderClick: function() {\r\n        var eventName = eventUtils.addNamespace(clickEvent.name, this.NAME);\r\n        var $element = this.$element();\r\n        this._clickAction = this._createAction(this._clickHandler.bind(this));\r\n        eventsEngine.off($element, eventName);\r\n        eventsEngine.on($element, eventName, function(e) {\r\n            this._clickAction({\r\n                event: e\r\n            })\r\n        }.bind(this))\r\n    },\r\n    _clickHandler: function(args) {\r\n        var e = args.event;\r\n        this._saveValueChangeEvent(e);\r\n        if (this._animating || this._swiping) {\r\n            return\r\n        }\r\n        this._animateValue(!this.option(\"value\"))\r\n    },\r\n    _animateValue: function(value) {\r\n        var startValue = this.option(\"value\");\r\n        var endValue = value;\r\n        if (startValue === endValue) {\r\n            return\r\n        }\r\n        this._animating = true;\r\n        var fromInnerOffset = this._getInnerOffset(startValue, 0);\r\n        var toInnerOffset = this._getInnerOffset(endValue, 0);\r\n        var fromHandleOffset = this._getHandleOffset(startValue, 0);\r\n        var toHandleOffset = this._getHandleOffset(endValue, 0);\r\n        var that = this;\r\n        var fromInnerConfig = {};\r\n        var toInnerConfig = {};\r\n        var fromHandleConfig = {};\r\n        var toHandlerConfig = {};\r\n        fromInnerConfig.transform = \" translateX(\" + fromInnerOffset + \")\";\r\n        toInnerConfig.transform = \" translateX(\" + toInnerOffset + \")\";\r\n        fromHandleConfig.transform = \" translateX(\" + fromHandleOffset + \")\";\r\n        toHandlerConfig.transform = \" translateX(\" + toHandleOffset + \")\";\r\n        this.$element().toggleClass(SWITCH_ON_VALUE_CLASS, endValue);\r\n        fx.animate(this._$handle, {\r\n            from: fromHandleConfig,\r\n            to: toHandlerConfig,\r\n            duration: SWITCH_ANIMATION_DURATION\r\n        });\r\n        fx.animate(this._$switchInner, {\r\n            from: fromInnerConfig,\r\n            to: toInnerConfig,\r\n            duration: SWITCH_ANIMATION_DURATION,\r\n            complete: function() {\r\n                that._animating = false;\r\n                that.option(\"value\", endValue)\r\n            }\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        var state = this.option(\"value\");\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var maxOffOffset = rtlEnabled ? 0 : 1;\r\n        var maxOnOffset = rtlEnabled ? 1 : 0;\r\n        e.event.maxLeftOffset = state ? maxOffOffset : maxOnOffset;\r\n        e.event.maxRightOffset = state ? maxOnOffset : maxOffOffset;\r\n        this._swiping = true;\r\n        this._feedbackDeferred = new Deferred;\r\n        feedbackEvents.lock(this._feedbackDeferred);\r\n        this._toggleActiveState(this.$element(), this.option(\"activeStateEnabled\"))\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        this._renderPosition(this.option(\"value\"), e.event.offset)\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var that = this;\r\n        var offsetDirection = this._offsetDirection();\r\n        var toInnerConfig = {};\r\n        var toHandleConfig = {};\r\n        var innerOffset = this._getInnerOffset(that.option(\"value\"), e.event.targetOffset);\r\n        var handleOffset = this._getHandleOffset(that.option(\"value\"), e.event.targetOffset);\r\n        toInnerConfig.transform = \" translateX(\" + innerOffset + \")\";\r\n        toHandleConfig.transform = \" translateX(\" + handleOffset + \")\";\r\n        fx.animate(this._$handle, {\r\n            to: toHandleConfig,\r\n            duration: SWITCH_ANIMATION_DURATION\r\n        });\r\n        fx.animate(this._$switchInner, {\r\n            to: toInnerConfig,\r\n            duration: SWITCH_ANIMATION_DURATION,\r\n            complete: function() {\r\n                that._swiping = false;\r\n                var pos = that.option(\"value\") + offsetDirection * e.event.targetOffset;\r\n                that.option(\"value\", Boolean(pos));\r\n                that._feedbackDeferred.resolve();\r\n                that._toggleActiveState(that.$element(), false)\r\n            }\r\n        })\r\n    },\r\n    _renderValue: function() {\r\n        this._validateValue();\r\n        var val = this.option(\"value\");\r\n        this._renderPosition(val, 0);\r\n        this.$element().toggleClass(SWITCH_ON_VALUE_CLASS, val);\r\n        this._getSubmitElement().val(val);\r\n        this.setAria({\r\n            pressed: val,\r\n            label: val ? this.option(\"switchedOnText\") : this.option(\"switchedOffText\")\r\n        })\r\n    },\r\n    _setLabelsText: function() {\r\n        this._$labelOn && this._$labelOn.text(this.option(\"switchedOnText\"));\r\n        this._$labelOff && this._$labelOff.text(this.option(\"switchedOffText\"))\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"width\":\r\n                delete this._marginBound;\r\n                this._refresh();\r\n                break;\r\n            case \"switchedOnText\":\r\n            case \"switchedOffText\":\r\n                this._setLabelsText();\r\n                break;\r\n            case \"value\":\r\n                this._renderValue();\r\n                this.callBase(args);\r\n                break;\r\n            case \"_animateHandle\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        delete this._inkRipple;\r\n        this.callBase()\r\n    }\r\n});\r\nregisterComponent(\"dxSwitch\", Switch);\r\nmodule.exports = Switch;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}