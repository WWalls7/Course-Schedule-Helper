{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/timezones/ui.scheduler.timezone_editor.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../../core/renderer\");\n\nvar registerComponent = require(\"../../../core/component_registrator\");\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar publisherMixin = require(\"../ui.scheduler.publisher_mixin\");\n\nvar messageLocalization = require(\"../../../localization/message\");\n\nvar Editor = require(\"../../editor/editor\");\n\nvar SelectBox = require(\"../../select_box\");\n\nvar TIMEZONE_EDITOR_CLASS = \"dx-timezone-editor\";\nvar TIMEZONE_DISPLAY_NAME_SELECTBOX_CLASS = \"dx-timezone-display-name\";\nvar TIMEZONE_IANA_ID_SELECTBOX_CLASS = \"dx-timezone-iana-id\";\nvar SchedulerTimezoneEditor = Editor.inherit({\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      value: null\n    });\n  },\n  _createComponent: function (element, name, config) {\n    config = config || {};\n\n    this._extendConfig(config, {\n      readOnly: this.option(\"readOnly\")\n    });\n\n    return this.callBase(element, name, config);\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(TIMEZONE_EDITOR_CLASS);\n  },\n  _render: function () {\n    this._renderDisplayNameEditor();\n\n    this._renderIanaIdEditor();\n\n    this.callBase();\n  },\n  _renderDisplayNameEditor: function () {\n    var noTzTitle = messageLocalization.format(\"dxScheduler-noTimezoneTitle\");\n    var value = this.invoke(\"getTimezoneDisplayNameById\", this.option(\"value\")) || noTzTitle;\n    this._displayNameEditor = this._renderSelectBox(TIMEZONE_DISPLAY_NAME_SELECTBOX_CLASS, {\n      items: [noTzTitle].concat(this.invoke(\"getTimezonesDisplayName\")),\n      value: value,\n      onOptionChanged: function (e) {\n        if (\"value\" === e.name) {\n          this._processDisplayNameChanging(e.value);\n        }\n      }.bind(this)\n    });\n  },\n  _renderIanaIdEditor: function () {\n    this._ianaIdEditor = this._renderSelectBox(TIMEZONE_IANA_ID_SELECTBOX_CLASS, {\n      items: this._idsDataSource(),\n      value: this.option(\"value\"),\n      onOptionChanged: function (e) {\n        if (\"value\" === e.name) {\n          this.option(\"value\", e.value);\n        }\n      }.bind(this),\n      valueExpr: \"id\",\n      displayExpr: \"displayName\",\n      disabled: this._calculateIanaIdEditorDisabledState()\n    });\n  },\n  _renderSelectBox: function (cssClass, options) {\n    options = options || {};\n    var $element = $(\"<div>\").addClass(cssClass);\n\n    var selectBox = this._createComponent($element, SelectBox, options);\n\n    this.$element().append($element);\n    return selectBox;\n  },\n  _idsDataSource: function () {\n    return this.invoke(\"getSimilarTimezones\", this.option(\"value\"));\n  },\n  _calculateIanaIdEditorDisabledState: function () {\n    return !this.option(\"value\");\n  },\n  _processDisplayNameChanging: function (displayName) {\n    var tzIds = this.invoke(\"getTimezonesIdsByDisplayName\", displayName);\n    var tzId = tzIds.length ? tzIds[0].id : null;\n    this.option(\"value\", tzId);\n\n    this._ianaIdEditor.option({\n      value: tzId,\n      items: this._idsDataSource(tzIds),\n      disabled: this._calculateIanaIdEditorDisabledState()\n    });\n  },\n  _optionChanged: function (args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"value\":\n        this._ianaIdEditor.option({\n          value: value,\n          items: this._idsDataSource()\n        });\n\n        if (value) {\n          this._displayNameEditor.option(\"value\", this.invoke(\"getTimezoneDisplayNameById\", value));\n        } else {\n          this._displayNameEditor.option(\"value\", messageLocalization.format(\"dxScheduler-noTimezoneTitle\"));\n        }\n\n        this.callBase(args);\n        break;\n\n      case \"readOnly\":\n        this._displayNameEditor && this._displayNameEditor.option(\"readOnly\", value);\n        this._ianaIdEditor && this._ianaIdEditor.option(\"readOnly\", value);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n}).include(publisherMixin);\nregisterComponent(\"dxSchedulerTimezoneEditor\", {}, SchedulerTimezoneEditor);\nmodule.exports = SchedulerTimezoneEditor;","map":{"version":3,"sources":["C:/Users/Swizzle/Desktop/SE Project/Application/csh/node_modules/devextreme/ui/scheduler/timezones/ui.scheduler.timezone_editor.js"],"names":["$","require","registerComponent","extend","publisherMixin","messageLocalization","Editor","SelectBox","TIMEZONE_EDITOR_CLASS","TIMEZONE_DISPLAY_NAME_SELECTBOX_CLASS","TIMEZONE_IANA_ID_SELECTBOX_CLASS","SchedulerTimezoneEditor","inherit","_getDefaultOptions","callBase","value","_createComponent","element","name","config","_extendConfig","readOnly","option","_init","$element","addClass","_render","_renderDisplayNameEditor","_renderIanaIdEditor","noTzTitle","format","invoke","_displayNameEditor","_renderSelectBox","items","concat","onOptionChanged","e","_processDisplayNameChanging","bind","_ianaIdEditor","_idsDataSource","valueExpr","displayExpr","disabled","_calculateIanaIdEditorDisabledState","cssClass","options","selectBox","append","displayName","tzIds","tzId","length","id","_optionChanged","args","include","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/timezones/ui.scheduler.timezone_editor.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../../core/renderer\");\r\nvar registerComponent = require(\"../../../core/component_registrator\");\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar publisherMixin = require(\"../ui.scheduler.publisher_mixin\");\r\nvar messageLocalization = require(\"../../../localization/message\");\r\nvar Editor = require(\"../../editor/editor\");\r\nvar SelectBox = require(\"../../select_box\");\r\nvar TIMEZONE_EDITOR_CLASS = \"dx-timezone-editor\";\r\nvar TIMEZONE_DISPLAY_NAME_SELECTBOX_CLASS = \"dx-timezone-display-name\";\r\nvar TIMEZONE_IANA_ID_SELECTBOX_CLASS = \"dx-timezone-iana-id\";\r\nvar SchedulerTimezoneEditor = Editor.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: null\r\n        })\r\n    },\r\n    _createComponent: function(element, name, config) {\r\n        config = config || {};\r\n        this._extendConfig(config, {\r\n            readOnly: this.option(\"readOnly\")\r\n        });\r\n        return this.callBase(element, name, config)\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TIMEZONE_EDITOR_CLASS)\r\n    },\r\n    _render: function() {\r\n        this._renderDisplayNameEditor();\r\n        this._renderIanaIdEditor();\r\n        this.callBase()\r\n    },\r\n    _renderDisplayNameEditor: function() {\r\n        var noTzTitle = messageLocalization.format(\"dxScheduler-noTimezoneTitle\");\r\n        var value = this.invoke(\"getTimezoneDisplayNameById\", this.option(\"value\")) || noTzTitle;\r\n        this._displayNameEditor = this._renderSelectBox(TIMEZONE_DISPLAY_NAME_SELECTBOX_CLASS, {\r\n            items: [noTzTitle].concat(this.invoke(\"getTimezonesDisplayName\")),\r\n            value: value,\r\n            onOptionChanged: function(e) {\r\n                if (\"value\" === e.name) {\r\n                    this._processDisplayNameChanging(e.value)\r\n                }\r\n            }.bind(this)\r\n        })\r\n    },\r\n    _renderIanaIdEditor: function() {\r\n        this._ianaIdEditor = this._renderSelectBox(TIMEZONE_IANA_ID_SELECTBOX_CLASS, {\r\n            items: this._idsDataSource(),\r\n            value: this.option(\"value\"),\r\n            onOptionChanged: function(e) {\r\n                if (\"value\" === e.name) {\r\n                    this.option(\"value\", e.value)\r\n                }\r\n            }.bind(this),\r\n            valueExpr: \"id\",\r\n            displayExpr: \"displayName\",\r\n            disabled: this._calculateIanaIdEditorDisabledState()\r\n        })\r\n    },\r\n    _renderSelectBox: function(cssClass, options) {\r\n        options = options || {};\r\n        var $element = $(\"<div>\").addClass(cssClass);\r\n        var selectBox = this._createComponent($element, SelectBox, options);\r\n        this.$element().append($element);\r\n        return selectBox\r\n    },\r\n    _idsDataSource: function() {\r\n        return this.invoke(\"getSimilarTimezones\", this.option(\"value\"))\r\n    },\r\n    _calculateIanaIdEditorDisabledState: function() {\r\n        return !this.option(\"value\")\r\n    },\r\n    _processDisplayNameChanging: function(displayName) {\r\n        var tzIds = this.invoke(\"getTimezonesIdsByDisplayName\", displayName);\r\n        var tzId = tzIds.length ? tzIds[0].id : null;\r\n        this.option(\"value\", tzId);\r\n        this._ianaIdEditor.option({\r\n            value: tzId,\r\n            items: this._idsDataSource(tzIds),\r\n            disabled: this._calculateIanaIdEditorDisabledState()\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"value\":\r\n                this._ianaIdEditor.option({\r\n                    value: value,\r\n                    items: this._idsDataSource()\r\n                });\r\n                if (value) {\r\n                    this._displayNameEditor.option(\"value\", this.invoke(\"getTimezoneDisplayNameById\", value))\r\n                } else {\r\n                    this._displayNameEditor.option(\"value\", messageLocalization.format(\"dxScheduler-noTimezoneTitle\"))\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"readOnly\":\r\n                this._displayNameEditor && this._displayNameEditor.option(\"readOnly\", value);\r\n                this._ianaIdEditor && this._ianaIdEditor.option(\"readOnly\", value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(publisherMixin);\r\nregisterComponent(\"dxSchedulerTimezoneEditor\", {}, SchedulerTimezoneEditor);\r\nmodule.exports = SchedulerTimezoneEditor;\r\n"]},"metadata":{},"sourceType":"script"}