{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar camelize = require(\"../../core/utils/inflector\").camelize;\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar Widget = require(\"../widget/ui.widget\");\n\nvar publisherMixin = require(\"./ui.scheduler.publisher_mixin\");\n\nvar SchedulerNavigator = require(\"./ui.scheduler.navigator\");\n\nvar DropDownMenu = require(\"../drop_down_menu\");\n\nvar Tabs = require(\"../tabs\");\n\nvar errors = require(\"../../core/errors\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\nvar STEP_MAP = {\n  day: \"day\",\n  week: \"week\",\n  workWeek: \"workWeek\",\n  month: \"month\",\n  timelineDay: \"day\",\n  timelineWeek: \"week\",\n  timelineWorkWeek: \"workWeek\",\n  timelineMonth: \"month\",\n  agenda: \"agenda\"\n};\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\nvar SchedulerHeader = Widget.inherit({\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      views: [],\n      intervalCount: 1,\n      currentView: \"day\",\n      firstDayOfWeek: void 0,\n      currentDate: new Date(),\n      min: void 0,\n      max: void 0,\n      useDropDownViewSwitcher: false,\n      _dropDownButtonIcon: \"overlay\"\n    });\n  },\n  _setOptionsByReference: function () {\n    this.callBase();\n    extend(this._optionsByReference, {\n      currentView: true\n    });\n  },\n  _optionChanged: function (args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"views\":\n        this._validateViews();\n\n        this._viewSwitcher.option({\n          items: value,\n          selectedItem: this.option(\"currentView\")\n        });\n\n        break;\n\n      case \"customizeDateNavigatorText\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"currentView\":\n        this._viewSwitcher.option(\"selectedItem\", value);\n\n        this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\n\n        this._changeViewSwitcherLabelText();\n\n        break;\n\n      case \"currentDate\":\n        this._navigator.option(\"date\", value);\n\n        break;\n\n      case \"displayedDate\":\n        this._navigator.option(\"displayedDate\", value);\n\n        break;\n\n      case \"min\":\n      case \"max\":\n      case \"firstDayOfWeek\":\n      case \"intervalCount\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"tabIndex\":\n      case \"focusStateEnabled\":\n        this._viewSwitcher.option(args.name, value);\n\n        this._navigator.option(args.name, value);\n\n        this.callBase(args);\n        break;\n\n      case \"useDropDownViewSwitcher\":\n        this._refreshViewSwitcher();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(COMPONENT_CLASS);\n  },\n  _initMarkup: function () {\n    this.callBase();\n\n    this._renderNavigator();\n\n    this._renderViewSwitcher();\n  },\n  _renderNavigator: function () {\n    this._navigator = this._createComponent(\"<div>\", SchedulerNavigator, {\n      min: this.option(\"min\"),\n      max: this.option(\"max\"),\n      intervalCount: this.option(\"intervalCount\"),\n      date: this.option(\"currentDate\"),\n      step: STEP_MAP[this._getCurrentViewType()],\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      observer: this.option(\"observer\"),\n      customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\n    });\n\n    this._navigator.$element().appendTo(this.$element());\n  },\n  _renderViewSwitcher: function () {\n    this._validateViews();\n\n    var $viewSwitcher = $(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\n\n    if (!this.option(\"useDropDownViewSwitcher\")) {\n      this._renderViewSwitcherTabs($viewSwitcher);\n    } else {\n      this._renderViewSwitcherDropDownMenu($viewSwitcher);\n    }\n  },\n  _validateViews: function () {\n    var views = this.option(\"views\");\n    each(views, function (_, view) {\n      var isViewIsObject = typeUtils.isObject(view);\n      var viewType = isViewIsObject && view.type ? view.type : view;\n\n      if (inArray(viewType, VIEWS) === -1) {\n        errors.log(\"W0008\", viewType);\n      }\n    });\n  },\n  _getCurrentViewType: function () {\n    var currentView = this.option(\"currentView\");\n    return currentView.type || currentView;\n  },\n  _renderViewSwitcherTabs: function ($element) {\n    var that = this;\n    $element.addClass(Tabs.getTabsExpandedClass);\n    this._viewSwitcher = this._createComponent($element, Tabs, {\n      selectionRequired: true,\n      scrollingEnabled: true,\n      onSelectionChanged: this._updateCurrentView.bind(this),\n      items: this.option(\"views\"),\n      itemTemplate: function (item) {\n        return $(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item));\n      },\n      selectedItem: this.option(\"currentView\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\")\n    });\n  },\n  _getItemText: function (item) {\n    return item.name || messageLocalization.format(\"dxScheduler-switcher\" + camelize(item.type || item, true));\n  },\n  _refreshViewSwitcher: function () {\n    this._viewSwitcher._dispose();\n\n    this._viewSwitcher.$element().remove();\n\n    delete this._viewSwitcher;\n\n    this._removeViewSwitcherLabel();\n\n    this._renderViewSwitcher();\n  },\n  _removeViewSwitcherLabel: function () {\n    if (isDefined(this._$viewSwitcherLabel)) {\n      this._$viewSwitcherLabel.detach();\n\n      this._$viewSwitcherLabel.remove();\n\n      delete this._$viewSwitcherLabel;\n    }\n  },\n  _renderViewSwitcherDropDownMenu: function ($element) {\n    var that = this;\n    this._$viewSwitcherLabel = $(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\n\n    this._changeViewSwitcherLabelText();\n\n    this._viewSwitcher = this._createComponent($element, DropDownMenu, {\n      onItemClick: this._updateCurrentView.bind(this),\n      buttonIcon: this.option(\"_dropDownButtonIcon\"),\n      items: this.option(\"views\"),\n      itemTemplate: function (item) {\n        return $(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item));\n      }\n    });\n  },\n  _changeViewSwitcherLabelText: function () {\n    if (!isDefined(this._$viewSwitcherLabel)) {\n      return;\n    }\n\n    var currentView = this.option(\"currentView\");\n\n    var currentViewText = this._getItemText(currentView);\n\n    this._$viewSwitcherLabel.text(currentViewText);\n  },\n  _getCurrentViewName: function (currentView) {\n    return typeUtils.isObject(currentView) ? currentView.name || currentView.type : currentView;\n  },\n  _updateCurrentView: function (e) {\n    var selectedItem = e.itemData || e.component.option(\"selectedItem\");\n\n    var viewName = this._getCurrentViewName(selectedItem);\n\n    this.notifyObserver(\"currentViewUpdated\", viewName);\n  },\n  _renderFocusTarget: noop\n}).include(publisherMixin);\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);\nmodule.exports = SchedulerHeader;","map":{"version":3,"sources":["C:/Users/Swizzle/Desktop/SE Project/Application/csh/node_modules/devextreme/ui/scheduler/ui.scheduler.header.js"],"names":["$","require","typeUtils","noop","isDefined","extend","each","inArray","camelize","registerComponent","Widget","publisherMixin","SchedulerNavigator","DropDownMenu","Tabs","errors","messageLocalization","COMPONENT_CLASS","VIEW_SWITCHER_CLASS","VIEW_SWITCHER_LABEL_CLASS","STEP_MAP","day","week","workWeek","month","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","agenda","VIEWS","SchedulerHeader","inherit","_getDefaultOptions","callBase","views","intervalCount","currentView","firstDayOfWeek","currentDate","Date","min","max","useDropDownViewSwitcher","_dropDownButtonIcon","_setOptionsByReference","_optionsByReference","_optionChanged","args","value","name","_validateViews","_viewSwitcher","option","items","selectedItem","_navigator","_getCurrentViewType","_changeViewSwitcherLabelText","_refreshViewSwitcher","_init","$element","addClass","_initMarkup","_renderNavigator","_renderViewSwitcher","_createComponent","date","step","tabIndex","focusStateEnabled","observer","customizeDateNavigatorText","appendTo","$viewSwitcher","_renderViewSwitcherTabs","_renderViewSwitcherDropDownMenu","_","view","isViewIsObject","isObject","viewType","type","log","that","getTabsExpandedClass","selectionRequired","scrollingEnabled","onSelectionChanged","_updateCurrentView","bind","itemTemplate","item","text","_getItemText","format","_dispose","remove","_removeViewSwitcherLabel","_$viewSwitcherLabel","detach","onItemClick","buttonIcon","currentViewText","_getCurrentViewName","e","itemData","component","viewName","notifyObserver","_renderFocusTarget","include","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar camelize = require(\"../../core/utils/inflector\").camelize;\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar Widget = require(\"../widget/ui.widget\");\r\nvar publisherMixin = require(\"./ui.scheduler.publisher_mixin\");\r\nvar SchedulerNavigator = require(\"./ui.scheduler.navigator\");\r\nvar DropDownMenu = require(\"../drop_down_menu\");\r\nvar Tabs = require(\"../tabs\");\r\nvar errors = require(\"../../core/errors\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\r\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\r\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\r\nvar STEP_MAP = {\r\n    day: \"day\",\r\n    week: \"week\",\r\n    workWeek: \"workWeek\",\r\n    month: \"month\",\r\n    timelineDay: \"day\",\r\n    timelineWeek: \"week\",\r\n    timelineWorkWeek: \"workWeek\",\r\n    timelineMonth: \"month\",\r\n    agenda: \"agenda\"\r\n};\r\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\r\nvar SchedulerHeader = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            views: [],\r\n            intervalCount: 1,\r\n            currentView: \"day\",\r\n            firstDayOfWeek: void 0,\r\n            currentDate: new Date,\r\n            min: void 0,\r\n            max: void 0,\r\n            useDropDownViewSwitcher: false,\r\n            _dropDownButtonIcon: \"overlay\"\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            currentView: true\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"views\":\r\n                this._validateViews();\r\n                this._viewSwitcher.option({\r\n                    items: value,\r\n                    selectedItem: this.option(\"currentView\")\r\n                });\r\n                break;\r\n            case \"customizeDateNavigatorText\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"currentView\":\r\n                this._viewSwitcher.option(\"selectedItem\", value);\r\n                this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\r\n                this._changeViewSwitcherLabelText();\r\n                break;\r\n            case \"currentDate\":\r\n                this._navigator.option(\"date\", value);\r\n                break;\r\n            case \"displayedDate\":\r\n                this._navigator.option(\"displayedDate\", value);\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n            case \"firstDayOfWeek\":\r\n            case \"intervalCount\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"focusStateEnabled\":\r\n                this._viewSwitcher.option(args.name, value);\r\n                this._navigator.option(args.name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"useDropDownViewSwitcher\":\r\n                this._refreshViewSwitcher();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(COMPONENT_CLASS)\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderNavigator();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _renderNavigator: function() {\r\n        this._navigator = this._createComponent(\"<div>\", SchedulerNavigator, {\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            intervalCount: this.option(\"intervalCount\"),\r\n            date: this.option(\"currentDate\"),\r\n            step: STEP_MAP[this._getCurrentViewType()],\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            observer: this.option(\"observer\"),\r\n            customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\r\n        });\r\n        this._navigator.$element().appendTo(this.$element())\r\n    },\r\n    _renderViewSwitcher: function() {\r\n        this._validateViews();\r\n        var $viewSwitcher = $(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\r\n        if (!this.option(\"useDropDownViewSwitcher\")) {\r\n            this._renderViewSwitcherTabs($viewSwitcher)\r\n        } else {\r\n            this._renderViewSwitcherDropDownMenu($viewSwitcher)\r\n        }\r\n    },\r\n    _validateViews: function() {\r\n        var views = this.option(\"views\");\r\n        each(views, function(_, view) {\r\n            var isViewIsObject = typeUtils.isObject(view);\r\n            var viewType = isViewIsObject && view.type ? view.type : view;\r\n            if (inArray(viewType, VIEWS) === -1) {\r\n                errors.log(\"W0008\", viewType)\r\n            }\r\n        })\r\n    },\r\n    _getCurrentViewType: function() {\r\n        var currentView = this.option(\"currentView\");\r\n        return currentView.type || currentView\r\n    },\r\n    _renderViewSwitcherTabs: function($element) {\r\n        var that = this;\r\n        $element.addClass(Tabs.getTabsExpandedClass);\r\n        this._viewSwitcher = this._createComponent($element, Tabs, {\r\n            selectionRequired: true,\r\n            scrollingEnabled: true,\r\n            onSelectionChanged: this._updateCurrentView.bind(this),\r\n            items: this.option(\"views\"),\r\n            itemTemplate: function(item) {\r\n                return $(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item))\r\n            },\r\n            selectedItem: this.option(\"currentView\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\")\r\n        })\r\n    },\r\n    _getItemText: function(item) {\r\n        return item.name || messageLocalization.format(\"dxScheduler-switcher\" + camelize(item.type || item, true))\r\n    },\r\n    _refreshViewSwitcher: function() {\r\n        this._viewSwitcher._dispose();\r\n        this._viewSwitcher.$element().remove();\r\n        delete this._viewSwitcher;\r\n        this._removeViewSwitcherLabel();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _removeViewSwitcherLabel: function() {\r\n        if (isDefined(this._$viewSwitcherLabel)) {\r\n            this._$viewSwitcherLabel.detach();\r\n            this._$viewSwitcherLabel.remove();\r\n            delete this._$viewSwitcherLabel\r\n        }\r\n    },\r\n    _renderViewSwitcherDropDownMenu: function($element) {\r\n        var that = this;\r\n        this._$viewSwitcherLabel = $(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\r\n        this._changeViewSwitcherLabelText();\r\n        this._viewSwitcher = this._createComponent($element, DropDownMenu, {\r\n            onItemClick: this._updateCurrentView.bind(this),\r\n            buttonIcon: this.option(\"_dropDownButtonIcon\"),\r\n            items: this.option(\"views\"),\r\n            itemTemplate: function(item) {\r\n                return $(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item))\r\n            }\r\n        })\r\n    },\r\n    _changeViewSwitcherLabelText: function() {\r\n        if (!isDefined(this._$viewSwitcherLabel)) {\r\n            return\r\n        }\r\n        var currentView = this.option(\"currentView\");\r\n        var currentViewText = this._getItemText(currentView);\r\n        this._$viewSwitcherLabel.text(currentViewText)\r\n    },\r\n    _getCurrentViewName: function(currentView) {\r\n        return typeUtils.isObject(currentView) ? currentView.name || currentView.type : currentView\r\n    },\r\n    _updateCurrentView: function(e) {\r\n        var selectedItem = e.itemData || e.component.option(\"selectedItem\");\r\n        var viewName = this._getCurrentViewName(selectedItem);\r\n        this.notifyObserver(\"currentViewUpdated\", viewName)\r\n    },\r\n    _renderFocusTarget: noop\r\n}).include(publisherMixin);\r\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);\r\nmodule.exports = SchedulerHeader;\r\n"]},"metadata":{},"sourceType":"script"}